import{r as p,l as j,b as r,c as d,d as e,F as q,f as M,t as x,p as w,g as c,q as g,i as h,e as $}from"./index-9cd89e0e.js";const D={key:0,class:"fixed inset-0 bg-white z-50 overflow-y-auto"},F={class:"container mx-auto px-6 py-8"},K={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},L=["src"],O={class:"p-6"},S={class:"font-bold text-lg mb-2"},U={class:"text-gray-600 text-sm mb-4 line-clamp-2"},E={class:"flex gap-2"},P=["onClick"],I=["onClick"],N=["onClick"],R={class:"bg-white rounded-lg max-w-2xl w-full p-8 max-h-[90vh] overflow-y-auto"},z={class:"text-2xl font-bold mb-6"},T={__name:"BlogManagement",props:{isOpen:Boolean},emits:["close","viewBlog"],setup(b,{emit:m}){const u=m,n=p([{id:1,title:"Program Pengelolaan Sampah",image:"https://images.unsplash.com/photo-1618477461853-cf6ed80faba5?auto=format&fit=crop&w=400&q=80",excerpt:"Inisiatif pengelolaan sampah berbasis masyarakat...",content:"Konten lengkap..."},{id:2,title:"Dampak Perubahan Iklim",image:"https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?auto=format&fit=crop&w=400&q=80",excerpt:"Bagaimana perubahan iklim mempengaruhi...",content:"Konten lengkap..."},{id:3,title:"Teknologi Ramah Lingkungan",image:"https://images.unsplash.com/photo-1618477461853-cf6ed80faba5?auto=format&fit=crop&w=400&q=80",excerpt:"Peran teknologi dalam pelestarian...",content:"Konten lengkap..."}]),a=p(!1),i=p(!1),l=j({id:null,title:"",image:"",excerpt:"",content:""}),y=()=>{i.value=!1,Object.keys(l).forEach(s=>l[s]=s==="id"?null:""),a.value=!0},k=s=>{i.value=!0,Object.assign(l,s),a.value=!0},B=()=>{if(i.value){const s=n.value.findIndex(t=>t.id===l.id);s!==-1&&(n.value[s]={...l})}else n.value.push({id:Date.now(),...l});f()},_=s=>{confirm("Yakin ingin menghapus blog ini?")&&(n.value=n.value.filter(t=>t.id!==s))},C=s=>{u("viewBlog",s)},f=()=>{a.value=!1},V=()=>{u("close")};return(s,t)=>b.isOpen?(r(),d("div",D,[e("div",F,[e("div",{class:"flex justify-between items-center mb-8"},[t[5]||(t[5]=e("h2",{class:"text-3xl font-bold"},"Manajemen Blog",-1)),e("div",{class:"flex gap-4"},[e("button",{onClick:y,class:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"}," + Buat Blog Baru "),e("button",{onClick:V,class:"text-gray-500 hover:text-gray-700"},[...t[4]||(t[4]=[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",K,[(r(!0),d(q,null,M(n.value,o=>(r(),d("div",{key:o.id,class:"bg-white rounded-lg shadow-lg overflow-hidden"},[e("img",{src:o.image,alt:"Blog",class:"w-full h-48 object-cover"},null,8,L),e("div",O,[e("h3",S,x(o.title),1),e("p",U,x(o.excerpt),1),e("div",E,[e("button",{onClick:v=>C(o),class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm"}," Lihat ",8,P),e("button",{onClick:v=>k(o),class:"flex-1 px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-sm"}," Edit ",8,I),e("button",{onClick:v=>_(o.id),class:"flex-1 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm"}," Hapus ",8,N)])])]))),128))]),a.value?(r(),d("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:w(f,["self"])},[e("div",R,[e("h3",z,x(i.value?"Edit Blog":"Buat Blog Baru"),1),e("form",{onSubmit:w(B,["prevent"]),class:"space-y-4"},[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Judul *",-1)),c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l.title=o),type:"text",required:"",class:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-600"},null,512),[[g,l.title]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"URL Gambar *",-1)),c(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>l.image=o),type:"url",required:"",class:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-600"},null,512),[[g,l.image]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ringkasan *",-1)),c(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>l.excerpt=o),required:"",rows:"3",class:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-600"},null,512),[[g,l.excerpt]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Konten *",-1)),c(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>l.content=o),required:"",rows:"8",class:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-red-600"},null,512),[[g,l.content]])]),e("div",{class:"flex gap-4"},[e("button",{type:"button",onClick:f,class:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50"},"Batal"),t[10]||(t[10]=e("button",{type:"submit",class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"Simpan",-1))])],32)])])):h("",!0)])])):h("",!0)}},A={class:"flex justify-between items-center mb-8"},H={__name:"BlogView",setup(b){const m=p(!1),u=n=>{console.log("View blog:",n)};return(n,a)=>(r(),d("div",null,[e("div",A,[a[1]||(a[1]=e("h1",{class:"text-3xl font-bold text-gray-900"},"Kelola Blog",-1)),e("button",{onClick:a[0]||(a[0]=i=>m.value=!0),class:"px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700"}," + Buat Blog Baru ")]),$(T,{isOpen:!0,onClose:()=>{},onViewBlog:u,isStandalone:!0})]))}};export{H as default};
