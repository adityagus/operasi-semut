import{A as I,r,B as A,b as v,c as x,d as e,F as k,f as S,t as g,p as B,g as f,s as _,m as V,q as C,i as J,n as D}from"./index-9cd89e0e.js";const T=I("content",()=>{const p=r({}),d=r(!1),u=r(null),c=o=>{d.value=!0;try{const n=localStorage.getItem(`content_${o}`);n&&(p.value[o]=JSON.parse(n))}catch(n){u.value=n.message}finally{d.value=!1}},b=(o,n)=>{try{return localStorage.setItem(`content_${o}`,JSON.stringify(n)),p.value[o]=n,!0}catch(i){return u.value=i.message,!1}},l=o=>(p.value[o]||c(o),p.value[o]),a=r([]),m=()=>{const o=localStorage.getItem("blogs");o?a.value=JSON.parse(o):a.value=[{id:1,title:"Memulai Perjalanan Operasi Semut",excerpt:"Bagaimana semuanya dimulai dan visi kami untuk Indonesia",content:"Lorem ipsum dolor sit amet...",author:"Tim Operasi Semut",date:"2026-01-20",image:"https://picsum.photos/800/400?random=1",status:"published"}]},y=o=>{if(o.id){const n=a.value.findIndex(i=>i.id===o.id);n>-1&&(a.value[n]=o)}else o.id=Date.now(),a.value.unshift(o);localStorage.setItem("blogs",JSON.stringify(a.value))},h=o=>{a.value=a.value.filter(n=>n.id!==o),localStorage.setItem("blogs",JSON.stringify(a.value))};return m(),{contents:p,loading:d,error:u,loadContent:c,saveContent:b,getContent:l,blogs:a,loadBlogs:m,saveBlog:y,deleteBlog:h}}),M={class:"flex justify-between items-center mb-8"},N={class:"border-b border-gray-200 mb-6"},O={class:"flex space-x-8"},K=["onClick"],$={class:"bg-white rounded-lg shadow"},q={class:"overflow-x-auto"},L={class:"min-w-full divide-y divide-gray-200"},U={class:"bg-white divide-y divide-gray-200"},H={class:"px-6 py-4 whitespace-nowrap"},j={class:"text-sm font-medium text-gray-900"},E={class:"px-6 py-4 whitespace-nowrap"},F={class:"text-sm text-gray-500"},z={class:"px-6 py-4 whitespace-nowrap"},P={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Q={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},G=["onClick"],R=["onClick"],W={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},X={class:"bg-white rounded-lg shadow-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Y={class:"text-2xl font-bold mb-6"},ee={__name:"ContentView",setup(p){T();const d=r("all"),u=r(!1),c=r(null),b=[{id:"all",label:"Semua"},{id:"hero",label:"Hero"},{id:"visi",label:"Visi & Misi"},{id:"testimoni",label:"Testimoni"}],l=r({section:"hero",title:"",content:"",status:"draft"}),a=r([{id:1,title:"Hero Banner",section:"hero",status:"published",updatedAt:"22 Jan 2026"},{id:2,title:"Visi Organisasi",section:"visi",status:"published",updatedAt:"21 Jan 2026"},{id:3,title:"Testimoni User 1",section:"testimoni",status:"draft",updatedAt:"20 Jan 2026"}]),m=A(()=>d.value==="all"?a.value:a.value.filter(i=>i.section===d.value)),y=i=>{c.value=i,l.value={...i},u.value=!0},h=i=>{if(confirm("Apakah Anda yakin ingin menghapus konten ini?")){const t=a.value.findIndex(s=>s.id===i);t>-1&&a.value.splice(t,1)}},o=()=>{if(c.value){const i=a.value.findIndex(t=>t.id===c.value.id);i>-1&&(a.value[i]={...l.value,updatedAt:new Date().toLocaleDateString("id-ID")})}else a.value.push({id:Date.now(),...l.value,updatedAt:new Date().toLocaleDateString("id-ID")});n()},n=()=>{u.value=!1,c.value=null,l.value={section:"hero",title:"",content:"",status:"draft"}};return(i,t)=>(v(),x("div",null,[e("div",M,[t[5]||(t[5]=e("h1",{class:"text-3xl font-bold text-gray-900"},"Kelola Konten",-1)),e("button",{onClick:t[0]||(t[0]=s=>u.value=!0),class:"px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700"}," + Tambah Konten ")]),e("div",N,[e("nav",O,[(v(),x(k,null,S(b,s=>e("button",{key:s.id,onClick:w=>d.value=s.id,class:D(["py-4 px-1 border-b-2 font-medium text-sm",d.value===s.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},g(s.label),11,K)),64))])]),e("div",$,[e("div",q,[e("table",L,[t[6]||(t[6]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Judul "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Section "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Terakhir Diubah "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Aksi ")])],-1)),e("tbody",U,[(v(!0),x(k,null,S(m.value,s=>(v(),x("tr",{key:s.id},[e("td",H,[e("div",j,g(s.title),1)]),e("td",E,[e("div",F,g(s.section),1)]),e("td",z,[e("span",{class:D(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",s.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},g(s.status==="published"?"Dipublikasi":"Draft"),3)]),e("td",P,g(s.updatedAt),1),e("td",Q,[e("button",{onClick:w=>y(s),class:"text-indigo-600 hover:text-indigo-900 mr-4"}," Edit ",8,G),e("button",{onClick:w=>h(s.id),class:"text-red-600 hover:text-red-900"}," Hapus ",8,R)])]))),128))])])])]),u.value?(v(),x("div",W,[e("div",X,[e("h2",Y,g(c.value?"Edit Konten":"Tambah Konten Baru"),1),e("form",{onSubmit:B(o,["prevent"]),class:"space-y-4"},[e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Section",-1)),f(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.section=s),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"},[...t[7]||(t[7]=[V('<option value="hero">Hero</option><option value="visi">Visi &amp; Misi</option><option value="statistik">Statistik</option><option value="testimoni">Testimoni</option><option value="faq">FAQ</option><option value="instagram">Instagram</option>',6)])],512),[[_,l.value.section]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Judul",-1)),f(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.title=s),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"},null,512),[[C,l.value.title]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Konten",-1)),f(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.content=s),rows:"6",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"},null,512),[[C,l.value.content]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),f(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value.status=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"},[...t[11]||(t[11]=[e("option",{value:"draft"},"Draft",-1),e("option",{value:"published"},"Dipublikasi",-1)])],512),[[_,l.value.status]])]),e("div",{class:"flex space-x-4 pt-4"},[t[13]||(t[13]=e("button",{type:"submit",class:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700"}," Simpan ",-1)),e("button",{type:"button",onClick:n,class:"flex-1 px-6 py-3 bg-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-400"}," Batal ")])],32)])])):J("",!0)]))}};export{ee as default};
